<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8"></meta>
<meta name="viewport" content="width=device-width, initial-scale=1"></meta>
<title>NEWS HuB | News Repository</title>
<link rel="stylesheet"
	href="../resources/lib/bootstrap/css/bootstrap.min.css"
	th:href="@{/resources/lib/bootstrap/css/bootstrap.min.css}" />


</head>

<body>

	<!-- -->
	<div class="container">
		<div class="row">

			<div class="col-md-12">
				<h4>NEWS HuB</h4>
				<div class="table-responsive">


					<table id="mytable" class="table table-bordred table-striped">

						<thead>
							<th class="col-md-0"><input type="checkbox" id="checkall" /></th>
							<th class="col-md-2">Source</th>
							<th class="col-md-5">News Title</th>
							<th class="col-md-3">Post Time</th>
							<th class="col-md-1">Edit</th>
							<th class="col-md-1">Delete</th>
						</thead>
						<tbody>

							<tr th:each="news, rowStat: *{newsList}">
								<td><input type="checkbox" class="checkthis" /></td>
								<td th:text="${news.source}">Newspaper</td>
								<td><a href="#view-news"
									th:href="'#view-news'+${rowStat.index}" th:text="${news.title}"
									data-toggle="modal">Title</a> 
									
									<!--  Modal starts -->
									<div class="modal fade" id="view-news"
										th:id="'view-news'+${rowStat.index}" tabindex="-1"
										role="dialog" aria-labelledby="edit" aria-hidden="true">
										<div class="modal-dialog">
											<div class="modal-content">
												<div class="modal-header">
													<button type="button" class="close" data-dismiss="modal"
														aria-hidden="true">
														<span class="glyphicon glyphicon-remove"
															aria-hidden="true"></span>
													</button>
													<img
														src="http://paimages.prothom-alo.com/contents/themes/public/style/images/Prothom-Alo.jpg"
														th:src="@{${news.sourceLogo}}" th:alt="${news.source}" />
												</div>
												<div class="modal-body">
													<div>
														<h4 th:text="${news.title}">SAFF SUZUKI CUP 2015</h4>
														<p th:text="${news.writter}">Sports Reporter</p>
														<p th:text="${news.postTime}">12:00 AM, December 30,
															2014</p>
													</div>
													<div>
														<p th:text="${news.article}">The players of the
															Bangladesh national football team and part of its
															coaching staff were left stranded at the Taj Hotel in
															Trivandrum</p>
													</div>
													<div class="modal-footer ">
														<button type="button" class="btn btn-warning btn-lg"
															style="width: 25%;">
															<span class="glyphicon glyphicon-print"></span> Print
														</button>
													</div>
												</div>
												<!-- /.modal-content -->
											</div>
											<!-- /.modal-dialog -->
										</div>
									</div> <!--  Modal ends --></td>
								<td th:text="${news.postTime}">Time...</td>




								<td>
									<p data-placement="top" data-toggle="tooltip" title="Edit">
										<button class="btn btn-primary btn-xs" data-title="Edit"
											data-toggle="modal" href="#edit-news"
											th:href="'#edit-news'+${rowStat.index}">
											<span class="glyphicon glyphicon-pencil"></span>
										</button>
									</p> 
									
									
									
									<!-- Modal -->
									<div class="modal fade" id="edit-news"
										th:id="'edit-news'+${rowStat.index}" tabindex="-1"
										role="dialog" aria-labelledby="edit" aria-hidden="true">
										<div class="modal-dialog">
											<div class="modal-content">
												<div class="modal-header">
													<button type="button" class="close" data-dismiss="modal"
														aria-hidden="true">
														<span class="glyphicon glyphicon-remove"
															aria-hidden="true"></span>
													</button>
													<h4 class="modal-title custom_align" id="Heading">Edit
														News</h4>
												</div>
												<div class="modal-body">
													<form action="#" th:action="@{/updateNews}"
														th:object="${newsList[__${rowStat.index}__]}" method="post">

														<div class="form-group inline">
															<label for="categories">News Photos </label>
															<th:block th:each="photo: ${news.newsPhotos}"
																name="newsPhotos">
																<div name="photo">
																	<input class="form-control " type="text"
																		name="imageTag" th:value="${photo.imageTag}"
																		placeholder="Photo Tag" /> <input
																		class="form-control " type="text" name="imageUrl"
																		th:value="${photo.imageUrl}" placeholder="Photo link" />
																</div>

															</th:block>
														</div>

														<input  th:field="*{newsList[__${rowStat.index}__].id}"
															type="hidden" />


														<div class="form-group">
															<label for="news-source">Source </label> <input
																class="form-control " type="text" placeholder="Source"
																th:field="*{newsList[__${rowStat.index}__].source}" />
														</div>
														<!-- 
														<div class="form-group">
															<label for="source-logo">Newspaper Logo</label> <input
																class="form-control " type="text"
																placeholder="Source Logo" name="sourceLogo"
																th:value="${news.sourceLogo}" />
														</div>
														<div class="form-group">
															<label for="news-url">News link </label> <input
																class="form-control " type="text" placeholder="News URL"
																name="newsUrl" th:value="${news.newsUrl}" />
														</div>
														<div class="form-group">
															<label for="news-title">Title </label> <input
																class="form-control " type="text"
																placeholder="News Title" name="title"
																th:value="${news.title}" />
														</div>
														<div class="form-group inline">
															<label for="categories">Category Tags </label>
															<th:block th:each="tag: ${news.categoryTags}">
																<input class="form-control" type="text"
																	name="categoryTags" th:value="${tag}"
																	placeholder="Category" />
															</th:block>
														</div>


														<div class="form-group">
															<label for="keywords">Keywords </label> <input
																class="form-control " type="text" name="keywords"
																th:each="keyw: ${news.keywords}" th:value="${keyw}"
																placeholder="Key Words" />
														</div>
														<div class="form-group">
															<label for="writter">Reporter </label> <input
																class="form-control " type="text" placeholder="Writter"
																name="reporter" th:value="${news.writter}" />
														</div>
														<div class="form-group">
															<label for="news-time">News time </label> <input
																class="form-control " type="text"
																placeholder="Post Time" name="postTime"
																th:value="${news.postTime}" />
														</div>
														<div class="form-group">
															<label for="news-article">Article</label>
															<textarea rows="7" class="form-control"
																placeholder="Article" name="article" th:inline="text">[[${news.article}]]</textarea>
														</div>
 -->
														<button type="submit"
															class="btn btn-warning btn-md pull-right"
															style="width: 25%;">
															<span class="glyphicon glyphicon-ok-sign"></span>  Update
														</button>
													</form>

												</div>
												<br></br> <br></br>
												<div class="modal-footer "></div>

											</div>
											<!-- /.modal-content -->
										</div>
										<!-- /.modal-dialog -->
									</div>
								</td>
								<td>
									<p data-placement="top" data-toggle="tooltip" title="Delete">
										<button class="btn btn-danger btn-xs" data-title="Delete"
											data-toggle="modal" data-target="#delete">
											<span class="glyphicon glyphicon-trash"></span>
										</button>
									</p>
								</td>
							</tr>

						</tbody>

					</table>

					<div class="clearfix"></div>
					<ul class="pagination pull-right">
						<li class="disabled"><a href="#"><span
								class="glyphicon glyphicon-chevron-left"></span></a></li>
						<li class="active"><a href="#">1</a></li>
						<li><a href="#">2</a></li>
						<li><a href="#">3</a></li>
						<li><a href="#">4</a></li>
						<li><a href="#">5</a></li>
						<li><a href="#"><span
								class="glyphicon glyphicon-chevron-right"></span></a></li>
					</ul>

				</div>

			</div>
		</div>
	</div>







	<div class="modal fade" id="delete" tabindex="-1" role="dialog"
		aria-labelledby="edit" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">
						<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
					</button>
					<h4 class="modal-title custom_align" id="Heading">Delete this
						News</h4>
				</div>
				<div class="modal-body">

					<div class="alert alert-danger">
						<span class="glyphicon glyphicon-warning-sign"></span> Are you
						sure you want to delete this News?
					</div>

				</div>
				<div class="modal-footer ">
					<button type="button" class="btn btn-success">
						<span class="glyphicon glyphicon-ok-sign"></span> Yes
					</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">
						<span class="glyphicon glyphicon-remove"></span> No
					</button>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>



	<script src="../resources/lib/jquery-2.1.4.min.js"
		th:src="@{/resources/lib/jquery-2.1.4.min.js}" type="text/javascript">
		
	</script>
	<script src="../resources/lib/bootstrap/js/bootstrap.min.js"
		th:src="@{/resources/lib/bootstrap/js/bootstrap.min.js}"
		type="text/javascript">
		
	</script>

	<script>
		$(document).ready(function() {
			$("#mytable #checkall").click(function() {
				if ($("#mytable #checkall").is(':checked')) {
					$("#mytable input[type=checkbox]").each(function() {
						$(this).prop("checked", true);
					});

				} else {
					$("#mytable input[type=checkbox]").each(function() {
						$(this).prop("checked", false);
					});
				}
			});

			$("[data-toggle=tooltip]").tooltip();
		});
	</script>
</body>

</html>